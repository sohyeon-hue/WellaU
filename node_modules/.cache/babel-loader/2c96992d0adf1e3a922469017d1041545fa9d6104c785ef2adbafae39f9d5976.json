{"ast":null,"code":"import { ref, onMounted } from 'vue';\nexport default {\n  __name: 'sosView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const radio = ref(0);\n    const textField = ref(\"\");\n    const disabled = ref(true);\n    const change = $ev => {\n      console.log(\"$ev : \", $ev.target.value);\n      const val = $ev.target.value;\n      if (val === 3) {\n        disabled.value = false;\n        setTimeout(() => {\n          inputRef.value.focus();\n        }, 250);\n      } else {\n        disabled.value = true;\n      }\n    };\n    const inputRef = ref();\n    const maxInputEvent = () => {};\n    const maxInputEnterEvent = () => {};\n    const c = ref(\"c\");\n    const startCircle = ref(\"startCircle\");\n    const canvas = ref(\"canvas\");\n    onMounted(() => {\n      // startCircle.value.style.top = 135 + 135 * Math.sin(0) + \"rem\";\n      // startCircle.value.style.left = 135 + 135 * Math.cos(0) + \"rem\";\n      // console.log(\"startCircle : \",startCircle)\n      let angle = 0;\n      let timer = null;\n      const oneStep = 100;\n      const totalTime = 30000;\n      const circlePrice = 6.3;\n      const circlePrice2 = 360;\n      const circleSize = 30;\n      timer = setInterval(() => {\n        // const x = 135 + 135 * Math.cos(angle);\n        // const y = 135 + 135 * Math.sin(angle);\n        // c.value.style.top = y + \"rem\";\n        // c.value.style.left = x + \"rem\";\n        // c.value.innerHTML = angle.toFixed(1);\n        angle += circlePrice / (totalTime / oneStep);\n        draw(angle);\n        if (angle >= circlePrice) {\n          clearInterval(timer);\n        }\n      }, oneStep);\n      console.log(\"canvas : \", canvas.value);\n      function draw(angle) {\n        const exchangeAngle = circlePrice2 / circlePrice * angle;\n        const ctx = canvas.value.getContext(\"2d\");\n        ctx.clearRect(0, 0, canvas.value.width, canvas.value.height);\n        ctx.beginPath();\n        ctx.moveTo(150, 150);\n        ctx.arc(150, 150, 150, 0, Math.PI / 180 * exchangeAngle, false);\n        ctx.closePath();\n        ctx.fillStyle = \"red\";\n        ctx.fill();\n        ctx.beginPath();\n        ctx.moveTo(150, 150);\n        ctx.arc(150, 150, 120, 0, Math.PI / 180 * 360, false);\n        ctx.closePath();\n        ctx.fillStyle = \"#fff\";\n        ctx.fill();\n        ctx.closePath();\n        ctx.beginPath();\n        ctx.moveTo(canvas.value.height - circleSize / 2, canvas.value.width / 2);\n        ctx.arc(canvas.value.height - circleSize / 2, canvas.value.width / 2, circleSize / 2, 0, Math.PI / 180 * 360, false);\n        ctx.fillStyle = \"red\";\n        ctx.fill();\n        ctx.closePath();\n        const left = canvas.value.width / 2 + (canvas.value.width / 2 - circleSize / 2) * Math.cos(angle);\n        const top = canvas.value.height / 2 + (canvas.value.height / 2 - circleSize / 2) * Math.sin(angle);\n        ctx.beginPath();\n        ctx.moveTo(150, 150);\n        ctx.arc(left, top, 15, Math.PI / 180 * 360, false);\n        ctx.fill();\n        ctx.closePath();\n      }\n    });\n    const __returned__ = {\n      radio,\n      textField,\n      disabled,\n      change,\n      inputRef,\n      maxInputEvent,\n      maxInputEnterEvent,\n      c,\n      startCircle,\n      canvas,\n      ref,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","radio","textField","disabled","change","$ev","console","log","target","value","val","setTimeout","inputRef","focus","maxInputEvent","maxInputEnterEvent","c","startCircle","canvas","angle","timer","oneStep","totalTime","circlePrice","circlePrice2","circleSize","setInterval","draw","clearInterval","exchangeAngle","ctx","getContext","clearRect","width","height","beginPath","moveTo","arc","Math","PI","closePath","fillStyle","fill","left","cos","top","sin"],"sources":["/Users/gimgaui/Documents/documents/vue/WellaU/WellaU/src/views/pages/sosView.vue"],"sourcesContent":["<template>\n    <div class=\"content-wrapper onePage\">\n        <div class=\"content-scroll\">\n            <div style=\"position:relative;width:300rem; height:300rem; border:1px solid red; border-radius:50%; transform:rotate(-90deg);\">\n                <div class=\"circle\" style=\"position:absolute; top:0; left:0; display:flex; align-items:center; justify-content:center; color:#fff; width:30rem; height:30rem; border-radius:50%; background:red;\" ref=\"c\">\n                </div>\n                <div class=\"circle\" style=\"position:absolute; top:0; left:0; display:flex; align-items:center; justify-content:center; color:#fff; width:30rem; height:30rem; border-radius:50%; background:red;\" ref=\"startCircle\">\n                </div>\n                <canvas id=\"myCanvas\" height=\"300\" width=\"300\" ref=\"canvas\"></canvas>\n            </div>\n            <div class=\"content-scroll-padding-box p0\">\n                <div class=\"title-center-type\">SOS</div>\n                <div class=\"number-info-box\">\n                    <div class=\"title-center-type-info\">그룹원에게 내 위치를 전송합니다.</div>\n                    <div class=\"circle-number-box\">\n                        8\n                    </div>\n                    <div class=\"circle-number-box-info\">\n                        숫자를 탭하면 즉시 전송됩니다.\n                    </div>\n                </div>\n                <div class=\"radio-list-style-box\">\n                    <a-radio-group v-model:value=\"radio\" @change=\"change\" class=\"wellau-radio-group\">\n                        <a-radio :value=\"0\" class=\"wellau-radio\">긴급 상황입니다.</a-radio>\n                        <a-radio :value=\"1\" class=\"wellau-radio\">010-000-0000 번호로 연락 주세요.</a-radio>\n                        <a-radio :value=\"2\" class=\"wellau-radio\">다쳤어요, 도움이 필요해요.</a-radio>\n                        <a-radio :value=\"3\" class=\"wellau-radio\">\n                            <div class=\"click-dummy-box\" v-if=\"radio !== 3\"></div>\n                            <!-- <a-input class=\"wellau-input\" v-model:value=\"textField\" placeholder=\"10자 이내\" :maxlength=\"10\" @input=\"maxInputEvent\" ref=\"inputRef\" /> -->\n                            <MaxInput v-model:value=\"textField\" :maxlength=\"10\" placeholder=\"10자 이내\" :disabled=\"disabled\" @input=\"maxInputEvent\" @enterEv=\"maxInputEnterEvent\" ref=\"inputRef\" />\n                        </a-radio>\n                    </a-radio-group>\n                    <div class=\"message-alert-box\">\n                        현재 해당 그룹 연락처 미공개 상태입니다\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"btn-set horizontal\">\n            <a-button class=\"wellau-btn\">취소</a-button>\n            <a-button type=\"primary\" class=\"wellau-btn\">즉시정송</a-button>\n        </div>\n    </div>\n</template>\n<script setup>\n    import { ref,onMounted } from 'vue'\n\n    const radio = ref(0);\n    const textField = ref(\"\");\n    const disabled = ref(true);\n    const change = ($ev)=>{\n        console.log(\"$ev : \",$ev.target.value)\n        const val = $ev.target.value;\n        if(val === 3){\n            disabled.value = false;\n            setTimeout(()=>{\n                inputRef.value.focus();\n            },250)\n        }else{\n            disabled.value = true\n        }\n    }\n    const inputRef = ref();\n    const maxInputEvent = ()=>{};\n    const maxInputEnterEvent = ()=>{};\n\n\n    const c = ref(\"c\")\n    const startCircle = ref(\"startCircle\")\n    const canvas = ref(\"canvas\");\n    onMounted(()=>{\n        // startCircle.value.style.top = 135 + 135 * Math.sin(0) + \"rem\";\n        // startCircle.value.style.left = 135 + 135 * Math.cos(0) + \"rem\";\n        // console.log(\"startCircle : \",startCircle)\n        let angle = 0;\n        let timer = null;\n        const oneStep = 100;\n        const totalTime = 30000;\n        const circlePrice = 6.3;\n        const circlePrice2 = 360;\n        const circleSize = 30;\n        timer = setInterval(()=>{\n            // const x = 135 + 135 * Math.cos(angle);\n            // const y = 135 + 135 * Math.sin(angle);\n            // c.value.style.top = y + \"rem\";\n            // c.value.style.left = x + \"rem\";\n            // c.value.innerHTML = angle.toFixed(1);\n            angle += circlePrice / (totalTime / oneStep);\n            draw(angle);\n            if(angle >= circlePrice){\n                clearInterval(timer);\n            }\n        },oneStep)\n        console.log(\"canvas : \",canvas.value)\n        function draw(angle){\n\n            const exchangeAngle = (circlePrice2 / circlePrice) * angle\n            const ctx = canvas.value.getContext(\"2d\");\n            ctx.clearRect(0,0,canvas.value.width, canvas.value.height);\n            ctx.beginPath();\n            ctx.moveTo(150,150);\n            ctx.arc(150,150,150,0,(Math.PI/180) * exchangeAngle,false);\n            ctx.closePath();\n            ctx.fillStyle = \"red\";\n            ctx.fill();\n            \n            ctx.beginPath();\n            ctx.moveTo(150,150);\n            ctx.arc(150,150,120,0,(Math.PI/180) * 360,false);\n            ctx.closePath();\n            ctx.fillStyle = \"#fff\";\n            ctx.fill();\n            ctx.closePath();\n\n            ctx.beginPath();\n            ctx.moveTo(canvas.value.height - (circleSize / 2),canvas.value.width / 2)\n            ctx.arc(canvas.value.height - (circleSize / 2),canvas.value.width / 2,(circleSize / 2),0,(Math.PI/180)*360,false);\n            ctx.fillStyle = \"red\";\n            ctx.fill();\n            ctx.closePath();\n\n            const left = canvas.value.width / 2 + ((canvas.value.width / 2) - (circleSize / 2) ) * Math.cos(angle);\n            const top = canvas.value.height / 2 + ((canvas.value.height / 2) - (circleSize / 2) ) * Math.sin(angle);\n            ctx.beginPath();\n            ctx.moveTo(150,150);\n            ctx.arc(left,top,15,(Math.PI / 180) * 360, false);\n            ctx.fill();\n            ctx.closePath();\n        }\n    })\n</script>\n<style type=\"scss\" scoped>\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}