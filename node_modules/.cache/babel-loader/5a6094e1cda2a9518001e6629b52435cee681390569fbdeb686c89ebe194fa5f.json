{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport { useModel as _useModel, mergeModels as _mergeModels } from 'vue';\nimport { ref, watch, onMounted } from 'vue';\nimport { DownOutlined } from '@ant-design/icons-vue';\nexport default {\n  __name: 'AccordionBox',\n  props: /*@__PURE__*/_mergeModels({\n    show: {\n      type: Number,\n      default: () => {\n        return -1;\n      }\n    },\n    list: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    }\n  }, {\n    \"show\": {},\n    \"showModifiers\": {}\n  }),\n  emits: [\"update:show\"],\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const accordionLine = ref();\n    const props = __props;\n    const model = _useModel(__props, 'show');\n    const open = ref([]);\n    const height = ref([]);\n    const settingDatas = () => {\n      for (let i = 0; i < props.list.length; i++) {\n        open.value.push(false);\n        height.value.push(0);\n      }\n    };\n    const accordionLabelClick = (idx, op) => {\n      console.log(\"accordionShow\");\n      open.value[idx] = !op;\n      model.value = idx;\n      let h = 0;\n      if (open.value[idx]) {\n        const p = accordionLine.value[0].querySelector(\".accordion-content\");\n        h = p.scrollHeight;\n      }\n      accordionLine.value.forEach((l, i) => {\n        if (i === idx) {\n          height[i] = h;\n        } else {\n          height[i] = 0;\n          open[i] = false;\n        }\n      });\n      console.log(\"h : \", height);\n      console.log(\"open : \", open);\n    };\n    const conStyle = index => {\n      return {\n        height: height[index] + 'rem'\n      };\n    };\n    watch(() => props.list, () => {\n      settingDatas();\n    });\n    onMounted(() => {\n      console.log();\n      if (props.show > -1) {\n        accordionLabelClick(props.show, false);\n      }\n    });\n    const __returned__ = {\n      accordionLine,\n      props,\n      model,\n      open,\n      height,\n      settingDatas,\n      accordionLabelClick,\n      conStyle,\n      ref,\n      watch,\n      onMounted,\n      get DownOutlined() {\n        return DownOutlined;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","onMounted","DownOutlined","accordionLine","props","__props","model","_useModel","open","height","settingDatas","i","list","length","value","push","accordionLabelClick","idx","op","console","log","h","p","querySelector","scrollHeight","forEach","l","conStyle","index","show"],"sources":["/Users/gimgaui/Documents/documents/vue/WellaU/WellaU/src/components/Global/AccordionBox.vue"],"sourcesContent":["<template>\n    <div class=\"accordion-wrapper\">\n        <ul>\n            <li class=\"accordion-list-box \" :class=\"{open:open[index]}\" v-for=\"(accordion,index) in props.list\" :key=\"'accordionList_'+index\" ref=\"accordionLine\">\n                <div class=\"accordion-label\" @click=\"accordionLabelClick(index,open[index])\">\n                    <div class=\"text\">\n                        <div class=\"tit\">{{accordion.tit}}</div>\n                        <div class=\"date\">{{accordion.date}}</div>\n                    </div>\n                    <i class=\"icon\">\n                        <DownOutlined />\n                    </i>\n                </div>\n                <div class=\"accordion-content\" :style=\"conStyle(index)\">\n                    <p v-html=\"accordion.con\"></p>\n                </div>\n            </li>\n        </ul>\n    </div>\n</template>\n<script setup>\n    import { ref,watch,defineProps,defineModel,onMounted } from 'vue'\n    import { DownOutlined } from '@ant-design/icons-vue'\n\n\n    const accordionLine = ref();\n\n    const props = defineProps({\n        show : {\n            type : Number,\n            default : ()=>{\n                return -1\n            }\n        },\n        list : {\n            type : Array,\n            default : ()=>{\n                return [];\n            }\n        },\n    })\n    const model = defineModel('show')\n    const open = ref([]);\n    const height = ref([]);\n\n    const settingDatas = ()=>{\n        for(let i=0;i<props.list.length; i++){\n            open.value.push(false);\n            height.value.push(0);\n        }\n    }\n    const accordionLabelClick = (idx,op)=>{\n        console.log(\"accordionShow\")\n        open.value[idx] = !op\n        model.value = idx;\n        let h = 0;\n        if(open.value[idx]){\n            const p = accordionLine.value[0].querySelector(\".accordion-content\")\n            h = p.scrollHeight\n        }\n        accordionLine.value.forEach((l,i)=>{\n            if(i === idx){\n                height[i] = h;\n            }else{\n                height[i] = 0;\n                open[i] = false\n            }\n        })\n        console.log(\"h : \",height)\n        console.log(\"open : \",open)\n    }\n    const conStyle = (index)=>{\n        return {height:height[index] + 'rem'}\n    }\n    watch(()=>props.list,()=>{\n        settingDatas();\n    })\n\n    onMounted(()=>{\n        console.log()\n        if(props.show > -1){\n            accordionLabelClick(props.show,false)\n        }\n    })\n</script>\n<style type=\"scss\" scoped>\n</style>"],"mappings":";;;;AAqBI,SAASA,GAAG,EAACC,KAA6B,EAACC,SAAS,QAAQ,KAAI;AAChE,SAASC,YAAY,QAAQ,uBAAsB;;;;;;;;;;;;;;;;;;;;;;;;;IAGnD,MAAMC,aAAa,GAAGJ,GAAG,CAAC,CAAC;IAE3B,MAAMK,KAAK,GAAGC,OAAA;IAcd,MAAMC,KAAK,GAAGC,SAAW,CAAAF,OAAA,EAAC,MAAM;IAChC,MAAMG,IAAI,GAAGT,GAAG,CAAC,EAAE,CAAC;IACpB,MAAMU,MAAM,GAAGV,GAAG,CAAC,EAAE,CAAC;IAEtB,MAAMW,YAAY,GAAGA,CAAA,KAAI;MACrB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACP,KAAK,CAACQ,IAAI,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAC;QACjCH,IAAI,CAACM,KAAK,CAACC,IAAI,CAAC,KAAK,CAAC;QACtBN,MAAM,CAACK,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MACxB;IACJ;IACA,MAAMC,mBAAmB,GAAGA,CAACC,GAAG,EAACC,EAAE,KAAG;MAClCC,OAAO,CAACC,GAAG,CAAC,eAAe;MAC3BZ,IAAI,CAACM,KAAK,CAACG,GAAG,CAAC,GAAG,CAACC,EAAC;MACpBZ,KAAK,CAACQ,KAAK,GAAGG,GAAG;MACjB,IAAII,CAAC,GAAG,CAAC;MACT,IAAGb,IAAI,CAACM,KAAK,CAACG,GAAG,CAAC,EAAC;QACf,MAAMK,CAAC,GAAGnB,aAAa,CAACW,KAAK,CAAC,CAAC,CAAC,CAACS,aAAa,CAAC,oBAAoB;QACnEF,CAAC,GAAGC,CAAC,CAACE,YAAW;MACrB;MACArB,aAAa,CAACW,KAAK,CAACW,OAAO,CAAC,CAACC,CAAC,EAACf,CAAC,KAAG;QAC/B,IAAGA,CAAC,KAAKM,GAAG,EAAC;UACTR,MAAM,CAACE,CAAC,CAAC,GAAGU,CAAC;QACjB,CAAC,MAAI;UACDZ,MAAM,CAACE,CAAC,CAAC,GAAG,CAAC;UACbH,IAAI,CAACG,CAAC,CAAC,GAAG,KAAI;QAClB;MACJ,CAAC;MACDQ,OAAO,CAACC,GAAG,CAAC,MAAM,EAACX,MAAM;MACzBU,OAAO,CAACC,GAAG,CAAC,SAAS,EAACZ,IAAI;IAC9B;IACA,MAAMmB,QAAQ,GAAIC,KAAK,IAAG;MACtB,OAAO;QAACnB,MAAM,EAACA,MAAM,CAACmB,KAAK,CAAC,GAAG;MAAK;IACxC;IACA5B,KAAK,CAAC,MAAII,KAAK,CAACQ,IAAI,EAAC,MAAI;MACrBF,YAAY,CAAC,CAAC;IAClB,CAAC;IAEDT,SAAS,CAAC,MAAI;MACVkB,OAAO,CAACC,GAAG,CAAC;MACZ,IAAGhB,KAAK,CAACyB,IAAI,GAAG,CAAC,CAAC,EAAC;QACfb,mBAAmB,CAACZ,KAAK,CAACyB,IAAI,EAAC,KAAK;MACxC;IACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}