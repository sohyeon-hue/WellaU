/*!
  * vue3-naver-maps v4.2.0
  * (c) 2023. Dongkyuuuu All rights reserved.
  * @license MIT
  */
import{inject as e,ref as r,defineComponent as n,useAttrs as t,toRefs as a,onMounted as o,onUnmounted as u,openBlock as s,createElementBlock as i,mergeProps as l,unref as c,renderSlot as p,watch as d}from"vue";const v="%[a-f0-9]{2}",m=new RegExp("("+v+")|([^%]+?)","gi"),y=new RegExp("("+v+")+","gi");function f(e,r){try{return[decodeURIComponent(e.join(""))]}catch{}if(1===e.length)return e;r=r||1;const n=e.slice(0,r),t=e.slice(r);return Array.prototype.concat.call([],f(n),f(t))}function g(e){try{return decodeURIComponent(e)}catch{let r=e.match(m)||[];for(let n=1;n<r.length;n++)r=(e=f(r,n).join("")).match(m)||[];return e}}function h(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function(e){const r={"%FE%FF":"��","%FF%FE":"��"};let n=y.exec(e);for(;n;){try{r[n[0]]=decodeURIComponent(n[0])}catch{const e=g(n[0]);e!==n[0]&&(r[n[0]]=e)}n=y.exec(e)}r["%C2"]="�";const t=Object.keys(r);for(const n of t)e=e.replace(new RegExp(n,"g"),r[n]);return e}(e)}}function b(e,r){if("string"!=typeof e||"string"!=typeof r)throw new TypeError("Expected the arguments to be of type `string`");if(""===e||""===r)return[];const n=e.indexOf(r);return-1===n?[]:[e.slice(0,n),e.slice(n+r.length)]}function w(e,r){const n={};if(Array.isArray(r))for(const t of r){const r=Object.getOwnPropertyDescriptor(e,t);r?.enumerable&&Object.defineProperty(n,t,r)}else for(const t of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,t);if(a.enumerable){r(t,e[t],e)&&Object.defineProperty(n,t,a)}}return n}const _=Symbol("encodeFragmentIdentifier");function k(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function N(e,r){return r.encode?r.strict?encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)):encodeURIComponent(e):e}function E(e,r){return r.decode?h(e):e}function j(e){return Array.isArray(e)?e.sort():"object"==typeof e?j(Object.keys(e)).sort(((e,r)=>Number(e)-Number(r))).map((r=>e[r])):e}function I(e){const r=e.indexOf("#");return-1!==r&&(e=e.slice(0,r)),e}function O(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!r.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function A(e){const r=(e=I(e)).indexOf("?");return-1===r?"":e.slice(r+1)}function L(e,r){k((r={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...r}).arrayFormatSeparator);const n=function(e){let r;switch(e.arrayFormat){case"index":return(e,n,t)=>{r=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),r?(void 0===t[e]&&(t[e]={}),t[e][r[1]]=n):t[e]=n};case"bracket":return(e,n,t)=>{r=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),r?void 0!==t[e]?t[e]=[...t[e],n]:t[e]=[n]:t[e]=n};case"colon-list-separator":return(e,n,t)=>{r=/(:list)$/.exec(e),e=e.replace(/:list$/,""),r?void 0!==t[e]?t[e]=[...t[e],n]:t[e]=[n]:t[e]=n};case"comma":case"separator":return(r,n,t)=>{const a="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!a&&E(n,e).includes(e.arrayFormatSeparator);n=o?E(n,e):n;const u=a||o?n.split(e.arrayFormatSeparator).map((r=>E(r,e))):null===n?n:E(n,e);t[r]=u};case"bracket-separator":return(r,n,t)=>{const a=/(\[])$/.test(r);if(r=r.replace(/\[]$/,""),!a)return void(t[r]=n?E(n,e):n);const o=null===n?[]:n.split(e.arrayFormatSeparator).map((r=>E(r,e)));void 0!==t[r]?t[r]=[...t[r],...o]:t[r]=o};default:return(e,r,n)=>{void 0!==n[e]?n[e]=[...[n[e]].flat(),r]:n[e]=r}}}(r),t=Object.create(null);if("string"!=typeof e)return t;if(!(e=e.trim().replace(/^[?#&]/,"")))return t;for(const a of e.split("&")){if(""===a)continue;const e=r.decode?a.replace(/\+/g," "):a;let[o,u]=b(e,"=");void 0===o&&(o=e),u=void 0===u?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?u:E(u,r),n(E(o,r),u,t)}for(const[e,n]of Object.entries(t))if("object"==typeof n&&null!==n)for(const[e,t]of Object.entries(n))n[e]=O(t,r);else t[e]=O(n,r);return!1===r.sort?t:(!0===r.sort?Object.keys(t).sort():Object.keys(t).sort(r.sort)).reduce(((e,r)=>{const n=t[r];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[r]=j(n):e[r]=n,e}),Object.create(null))}function S(e,r){if(!e)return"";k((r={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...r}).arrayFormatSeparator);const n=n=>r.skipNull&&null==e[n]||r.skipEmptyString&&""===e[n],t=function(e){switch(e.arrayFormat){case"index":return r=>(n,t)=>{const a=n.length;return void 0===t||e.skipNull&&null===t||e.skipEmptyString&&""===t?n:null===t?[...n,[N(r,e),"[",a,"]"].join("")]:[...n,[N(r,e),"[",N(a,e),"]=",N(t,e)].join("")]};case"bracket":return r=>(n,t)=>void 0===t||e.skipNull&&null===t||e.skipEmptyString&&""===t?n:null===t?[...n,[N(r,e),"[]"].join("")]:[...n,[N(r,e),"[]=",N(t,e)].join("")];case"colon-list-separator":return r=>(n,t)=>void 0===t||e.skipNull&&null===t||e.skipEmptyString&&""===t?n:null===t?[...n,[N(r,e),":list="].join("")]:[...n,[N(r,e),":list=",N(t,e)].join("")];case"comma":case"separator":case"bracket-separator":{const r="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(t,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?t:(a=null===a?"":a,0===t.length?[[N(n,e),r,N(a,e)].join("")]:[[t,N(a,e)].join(e.arrayFormatSeparator)])}default:return r=>(n,t)=>void 0===t||e.skipNull&&null===t||e.skipEmptyString&&""===t?n:null===t?[...n,N(r,e)]:[...n,[N(r,e),"=",N(t,e)].join("")]}}(r),a={};for(const[r,t]of Object.entries(e))n(r)||(a[r]=t);const o=Object.keys(a);return!1!==r.sort&&o.sort(r.sort),o.map((n=>{const a=e[n];return void 0===a?"":null===a?N(n,r):Array.isArray(a)?0===a.length&&"bracket-separator"===r.arrayFormat?N(n,r)+"[]":a.reduce(t(n),[]).join("&"):N(n,r)+"="+N(a,r)})).filter((e=>e.length>0)).join("&")}function x(e,r){r={decode:!0,...r};let[n,t]=b(e,"#");return void 0===n&&(n=e),{url:n?.split("?")?.[0]??"",query:L(A(e),r),...r&&r.parseFragmentIdentifier&&t?{fragmentIdentifier:E(t,r)}:{}}}function C(e,r){r={encode:!0,strict:!0,[_]:!0,...r};const n=I(e.url).split("?")[0]||"";let t=S({...L(A(e.url),{sort:!1}),...e.query},r);t&&(t=`?${t}`);let a=function(e){let r="";const n=e.indexOf("#");return-1!==n&&(r=e.slice(n)),r}(e.url);if(e.fragmentIdentifier){const t=new URL(n);t.hash=e.fragmentIdentifier,a=r[_]?t.hash:`#${e.fragmentIdentifier}`}return`${n}${t}${a}`}function M(e,r,n){n={parseFragmentIdentifier:!0,[_]:!1,...n};const{url:t,query:a,fragmentIdentifier:o}=x(e,n);return C({url:t,query:w(a,r),fragmentIdentifier:o},n)}var q=Object.freeze({__proto__:null,extract:A,parse:L,stringify:S,parseUrl:x,stringifyUrl:C,pick:M,exclude:function(e,r,n){return M(e,Array.isArray(r)?e=>!r.includes(e):(e,n)=>!r(e,n),n)}});const F=Symbol("vue3-naver-maps-install-options"),R="vue3-naver-maps",T=r=>{if(document.getElementById(R))return;const n=(e=>{if(e.subModules&&!Array.isArray(e.subModules))throw new Error("[vue3-naver-maps] subModules type is array");return`https://oapi.map.naver.com/openapi/v3/maps.js?${q.stringify({[`${e.category??"ncp"}ClientId`]:e.clientId,submodules:e.subModules?.join()??""})}`})(e(F)),t=document.createElement("script");t.setAttribute("id",R),t.setAttribute("type","text/javascript"),t.setAttribute("src",n),t.setAttribute("async",""),t.setAttribute("defer",""),t.onerror=()=>new Error("[vue3-naver-maps] naver script load is failed"),t.onload=()=>r(),document.head.appendChild(t)};function U(e,r){if(!r.clientId)throw new Error("[vue3-naver-maps] options must be included clientId");e.provide(F,r)}const $=r(),P=r(!1),z=r([]),B=["mousedown","mouseup","click","dblclick","rightclick","mouseover","mouseout","mousemove","dragstart","drag","dragend","touchstart","touchmove","touchend","pinchstart","pinch","pinchend","tap","longtap","twofingertap","doubletap"],G=[...B,"addLayer","bounds_changed","center_changed","centerPoint_changed","idle","init_stylemap","keydown","keyup","mapType_changed","mapTypeId_changed","panning","projection_changed","removeLayer","resize","size_changed","tilesloaded","zoom_changed","zooming"],W=["anchorColor_changed","anchorSize_changed","anchorSkew_changed","backgroundColor_changed","borderColor_changed","borderWidth_changed","close","content_changed","disableAnchor_changed","disableAutoPan_changed","maxWidth_changed","open","pixelOffset_changed","position_changed","zIndex_changed"],D=["center_changed","click","clickable_changed","dblclick","mousedown","mouseout","mouseover","mouseup","radius_changed","visible_changed","zIndex_changed"],K=["bounds_changed","click","clickable_changed","dblclick","mousedown","mouseout","mouseover","mouseup","visible_changed","zIndex_changed"],H=["bounds_changed","click","clickable_changed","dblclick","mousedown","mouseout","mouseover","mouseup","visible_changed","zIndex_changed"],J=["click","clickable_changed","dblclick","mousedown","mouseout","mouseover","mouseup","visible_changed","zIndex_changed"],Y=["click","clickable_changed","dblclick","mousedown","mouseout","mouseover","mouseup","visible_changed","zIndex_changed"],Q=["click","dbclick"];function V(e,r,n){window.naver.maps.Event.addListener(r,n,(r=>e(n,r)))}const X={BACKGROUND:"bg",BACKGROUND_DETAIL:"ol",BICYCLE:"br",CADASTRAL:"lp",CTT:"ctt",HIKING_TRAIL:"ar",PANORAMA:"pr",POI_KOREAN:"lko",TRANSIT:"ts",KOREAN:"lko",ENGLISH:"len",CHINESE:"lzh",JAPANESE:"lja"};var Z=(e,r)=>{const n=e.__vccOpts||e;for(const[e,t]of r)n[e]=t;return n},ee=Z(n({__name:"NaverMap",props:{mapOptions:{type:null,required:!1},initLayers:{type:Array,required:!1}},emits:[...G,"onLoad"],setup(e,{emit:n}){const d=e,v=t(),m=r(),{initLayers:y,mapOptions:f}=a(d),g=()=>{var e,r;$.value=new window.naver.maps.Map(m.value,(()=>{const e=f?.value??{},r=(y?.value??[]).map((e=>X[e])).join(".");return e.latitude&&e.longitude&&(e.center=new window.naver.maps.LatLng(e.latitude,e.longitude)),{...e,mapTypes:new window.naver.maps.MapTypeRegistry({normal:window.naver.maps.NaverStyleMapTypeOptions.getNormalMap({overlayType:r}),satellite:window.naver.maps.NaverStyleMapTypeOptions.getSatelliteMap({overlayType:r}),hybrid:window.naver.maps.NaverStyleMapTypeOptions.getHybridMap({overlayType:r}),terrain:window.naver.maps.NaverStyleMapTypeOptions.getTerrainMap({overlayType:r})})}})()),e=n,r=$.value,G.forEach((n=>V(e,r,n))),P.value=!0,z.value.map((e=>e($.value))),z.value=[],n("onLoad",$.value)};return o((()=>{window.naver?g():T(g)})),u((()=>{$.value?.destroy(),$.value=void 0,P.value=!1})),(e,r)=>(s(),i("div",l({ref_key:"mapElement",ref:m},c(v)),[p(e.$slots,"default")],16))}}),[["__file","/Users/dongkyuuuu/project/toy/vue3-naver-maps/src/components/NaverMap.vue"]]);const re=e=>{P.value?e($.value):z.value.push(e)};var ne=Z(n({__name:"NaverMarker",props:{latitude:{type:Number,required:!0},longitude:{type:Number,required:!0},htmlIcon:{type:null,required:!1}},emits:[...B,"onLoad"],setup(e,{emit:n}){const t=e,{latitude:l,longitude:c,htmlIcon:d}=a(t),v=r(),m=r(),y=()=>{if(m.value?.childElementCount)return Object.assign({content:m.value},d?.value??{})},f=e=>{if(!l.value||!c.value)throw new Error("[vue3-naver-maps] marker must have latitude, longtitude");var r,t;v.value=new window.naver.maps.Marker({map:e,icon:y(),position:new window.naver.maps.LatLng(l.value,c.value)}),r=n,t=v.value,B.forEach((e=>V(r,t,e))),n("onLoad",v.value)};return o((()=>re(f))),u((()=>{v.value?.setMap(null),v.value=void 0})),(e,r)=>(s(),i("div",{ref_key:"markerElement",ref:m},[p(e.$slots,"default")],512))}}),[["__file","/Users/dongkyuuuu/project/toy/vue3-naver-maps/src/components/NaverMarker.vue"]]),te=Z(n({__name:"NaverInfoWindow",props:{marker:{type:null,required:!0},open:{type:Boolean,required:!0},options:{type:null,required:!1}},emits:[...W,"onLoad"],setup(e,{emit:n}){const t=e,{marker:o,options:l,open:c}=a(t),v=r(),m=r(),y=()=>{if(!$.value)throw new Error("[vue3-naver-maps] map instance is not initialized");if(!v.value)throw new Error("[vue3-naver-maps] infoWindow is not defined");c.value?v.value.open($.value,o.value):v.value.close()},f=()=>{const e=Object.assign({content:m.value??""},l?.value??{});var r,t;v.value=new window.naver.maps.InfoWindow(e),y(),r=n,t=v.value,W.forEach((e=>V(r,t,e))),n("onLoad",v.value)};return d((()=>c.value),(()=>y()),{immediate:!1}),d((()=>o.value),(()=>o.value&&re(f)),{immediate:!1}),u((()=>v.value&&v.value.close())),(e,r)=>(s(),i("div",{ref_key:"infoWindowElement",ref:m},[p(e.$slots,"default")],512))}}),[["__file","/Users/dongkyuuuu/project/toy/vue3-naver-maps/src/components/NaverInfoWindow.vue"]]),ae=Z(n({__name:"NaverCircle",props:{latitude:{type:Number,required:!0},longitude:{type:Number,required:!0},radius:{type:Number,required:!1},options:{type:null,required:!1}},emits:[...D,"onLoad"],setup(e,{emit:n}){const t=e,{latitude:l,longitude:c,radius:p,options:d}=a(t),v=r(),m=e=>{var r,t;v.value=new window.naver.maps.Circle({map:e,center:new window.naver.maps.LatLng(l.value,c.value),radius:p?.value??100,...d?.value}),r=n,t=v.value,D.forEach((e=>V(r,t,e))),n("onLoad",v.value)};return o((()=>re(m))),u((()=>v.value&&v.value.setMap(null))),(e,r)=>(s(),i("div"))}}),[["__file","/Users/dongkyuuuu/project/toy/vue3-naver-maps/src/components/NaverCircle.vue"]]),oe=Z(n({__name:"NaverEllipse",props:{bounds:{type:null,required:!0},options:{type:null,required:!1}},emits:[...K,"onLoad"],setup(e,{emit:n}){const t=e,{bounds:l,options:c}=a(t),p=r(),d=e=>{var r,t;p.value=new window.naver.maps.Ellipse({map:e,bounds:l.value,...c?.value}),r=n,t=p.value,K.forEach((e=>V(r,t,e))),n("onLoad",p.value)};return o((()=>re(d))),u((()=>p.value&&p.value.setMap(null))),(e,r)=>(s(),i("div"))}}),[["__file","/Users/dongkyuuuu/project/toy/vue3-naver-maps/src/components/NaverEllipse.vue"]]),ue=Z(n({__name:"NaverGroundOverlay",props:{url:{type:String,required:!0},bounds:{type:null,required:!0},options:{type:null,required:!1}},emits:[...Q,"onLoad"],setup(e,{emit:n}){const t=e,{url:l,bounds:c,options:p}=a(t),d=r(),v=e=>{var r,t;d.value=new window.naver.maps.GroundOverlay(l.value,c.value,{map:e,...p?.value}),r=n,t=d.value,Q.forEach((e=>V(r,t,e))),n("onLoad",d.value)};return o((()=>re(v))),u((()=>d.value&&d.value.setMap(null))),(e,r)=>(s(),i("div"))}}),[["__file","/Users/dongkyuuuu/project/toy/vue3-naver-maps/src/components/NaverGroundOverlay.vue"]]),se=Z(n({__name:"NaverPolygon",props:{paths:{type:Array,required:!0},options:{type:null,required:!1}},emits:[...J,"onLoad"],setup(e,{emit:n}){const t=e,{paths:l,options:c}=a(t),p=r(),d=e=>{var r,t;p.value=new window.naver.maps.Polygon({map:e,paths:l.value,...c?.value}),r=n,t=p.value,J.forEach((e=>V(r,t,e))),n("onLoad",p.value)};return o((()=>re(d))),u((()=>p.value&&p.value.setMap(null))),(e,r)=>(s(),i("div"))}}),[["__file","/Users/dongkyuuuu/project/toy/vue3-naver-maps/src/components/NaverPolygon.vue"]]),ie=Z(n({__name:"NaverPolyline",props:{path:{type:Array,required:!0},options:{type:null,required:!1}},emits:[...Y,"onLoad"],setup(e,{emit:n}){const t=e,{path:l,options:c}=a(t),p=r(),d=e=>{var r,t;p.value=new window.naver.maps.Polyline({map:e,path:l.value,...c?.value}),r=n,t=p.value,Y.forEach((e=>V(r,t,e))),n("onLoad",p.value)};return o((()=>re(d))),u((()=>p.value&&p.value.setMap(null))),(e,r)=>(s(),i("div"))}}),[["__file","/Users/dongkyuuuu/project/toy/vue3-naver-maps/src/components/NaverPolyline.vue"]]),le=Z(n({__name:"NaverRectangle",props:{bounds:{type:null,required:!0},options:{type:null,required:!1}},emits:[...H,"onLoad"],setup(e,{emit:n}){const t=e,{bounds:l,options:c}=a(t),p=r(),d=e=>{var r,t;p.value=new window.naver.maps.Rectangle({map:e,bounds:l.value,...c?.value}),r=n,t=p.value,H.forEach((e=>V(r,t,e))),n("onLoad",p.value)};return o((()=>re(d))),u((()=>p.value&&p.value.setMap(null))),(e,r)=>(s(),i("div"))}}),[["__file","/Users/dongkyuuuu/project/toy/vue3-naver-maps/src/components/NaverRectangle.vue"]]);export{ae as NaverCircle,oe as NaverEllipse,ue as NaverGroundOverlay,te as NaverInfoWindow,ee as NaverMap,ne as NaverMarker,se as NaverPolygon,ie as NaverPolyline,le as NaverRectangle,U as createNaverMap};
